<!DOCTYPE html>
<html>
	<head>
      <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
      <style>
         .dice {
            text-align: center;
            color: white;
            font-family: Arial, Helvetica, sans-serif;
            font-size: 4000%;
         }
      </style>
   </head>

<body style="padding:0; margin:0; background: black; color: green;">
   <div style="margin: auto" id="screen">
      <span id="dice" class="dice" onclick="rolldice()">?</span>
   </div>

   <script>
      let locked = false;

      function rolldice() {
         if(locked) return;
         locked = true;

         let el = document.getElementById("dice");
         el.innerText = "";

         let dice1 = Math.floor(Math.random() * 2);
         let dice2 = Math.floor(Math.random() * 2);
         let dice3 = Math.floor(Math.random() * 2);
         let dice4 = Math.floor(Math.random() * 2);
         let dice_roll = dice1 + dice2 + dice3 + dice4;

         say(dice_roll);

         setTimeout(()=>{
            el.innerText = dice_roll;
         },250);

         setTimeout(()=>{
            locked = false;
         },1000);
      }

      function say(frase) {
         const synth = window.speechSynthesis;
         if(synth === undefined) return;
         const utterThis = new SpeechSynthesisUtterance(frase);
         // const voices = synth.getVoices();
         // utterThis.voice = voices[0];
         utterThis.pitch = 1.0;
         utterThis.rate = 1.0;
         synth.speak(utterThis);
      }
   </script>
</body>
</html>

